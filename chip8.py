import sys
from random import randint, seed
from time import time

class Chip8:

    def __init__(self):
        self.fontset = 	[0xF0, 0x90, 0x90, 0x90, 0xF0,
	  	0x20, 0x60, 0x20, 0x20, 0x70,
	  	0xF0, 0x10, 0xF0, 0x80, 0xF0,
		0xF0, 0x10, 0xF0, 0x10, 0xF0,
	 	0x90, 0x90, 0xF0, 0x10, 0x10,
		0xF0, 0x80, 0xF0, 0x10, 0xF0,
        0xF0, 0x80, 0xF0, 0x90, 0xF0,
        0xF0, 0x10, 0x20, 0x40, 0x40,
        0xF0, 0x90, 0xF0, 0x90, 0xF0,
		0xF0, 0x90, 0xF0, 0x10, 0xF0,
		0xF0, 0x90, 0xF0, 0x90, 0x90,
		0xE0, 0x90, 0xE0, 0x90, 0xE0,
	 	0xF0, 0x80, 0x80, 0x80, 0xF0,
        0xE0, 0x90, 0x90, 0x90, 0xE0,
        0xF0, 0x80, 0xF0, 0x80, 0xF0,
	 	0xF0, 0x80, 0xF0, 0x80, 0x80]

    def initialize(self, pixels):
        seed()
        self.stack = []
        self.op = 0
        self.ram = [0] * 4096
        self.pc = 0x200
        self.I = 0
        self.sp = 0
        self.V = [0] * 16
        self.keys = [0] * 16

        # Clear screen
        self.graphics = [0] * pixels

        # Python timer
        self.timer_last = timer()

        # Fontset
        for i in range(80):
            self.ram[i] = self.fontset[i]

        self.delayTimer = 0
        self.soundTimer = 0

        self.drawFlag = True

